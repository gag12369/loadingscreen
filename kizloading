local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local ReplicatedFirst = game:GetService("ReplicatedFirst")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")

ReplicatedFirst:RemoveDefaultLoadingScreen()

local player = Players.LocalPlayer
StarterGui:SetCore("TopbarEnabled", false) -- Hide the top bar

local screenGui = Instance.new("ScreenGui")
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = game:GetService("CoreGui") -- Parent to CoreGui instead of PlayerGui

local background = Instance.new("Frame")
background.Size = UDim2.new(1, 0, 1, 0)
background.BackgroundColor3 = Color3.fromRGB(10, 10, 20)
local gradient = Instance.new("UIGradient")
gradient.Rotation = 45
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(20, 10, 40)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(100, 50, 150)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 20, 80))
}
gradient.Parent = background
background.Parent = screenGui

spawn(function()
    while true do
        gradient.Rotation = (gradient.Rotation + 1) % 360
        RunService.RenderStepped:Wait()
    end
end)

local function createStar()
    local star = Instance.new("Frame")
    star.Size = UDim2.new(0, math.random(6, 12), 0, math.random(6, 12))
    star.BackgroundColor3 = Color3.fromRGB(math.random(180, 255), math.random(150, 255), math.random(200, 255))
    star.Position = UDim2.new(math.random(), 0, math.random(), 0)
    star.BackgroundTransparency = 0.3
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(1, 0)
    corner.Parent = star
    local glow = Instance.new("ImageLabel")
    glow.Image = "rbxassetid://243098098"
    glow.Size = UDim2.new(2.5, 0, 2.5, 0)
    glow.Position = UDim2.new(0.5, 0, 0.5, 0)
    glow.AnchorPoint = Vector2.new(0.5, 0.5)
    glow.BackgroundTransparency = 1
    glow.ImageTransparency = 0.5
    glow.Parent = star
    star.Parent = background

    spawn(function()
        local tweenInfo = TweenInfo.new(math.random(2, 4), Enum.EasingStyle.Sine, Enum.EasingDirection.InOut)
        local directionX = math.random(-1, 1) * 0.5
        local directionY = math.random(-1, 1) * 0.5
        TweenService:Create(star, tweenInfo, {
            Position = UDim2.new(star.Position.X.Scale + directionX, 0, star.Position.Y.Scale + directionY, 0),
            BackgroundTransparency = 1,
            Size = UDim2.new(0, math.random(15, 25), 0, math.random(15, 25))
        }):Play()
        TweenService:Create(glow, tweenInfo, {ImageTransparency = 1, Size = UDim2.new(3, 0, 3, 0)}):Play()
        wait(tweenInfo.Time)
        star:Destroy()
    end)
end

spawn(function()
    while true do
        createStar()
        wait(0.1)
    end
end)

local function createEnergyLine()
    local line = Instance.new("Frame")
    line.Size = UDim2.new(0, math.random(100, 300), 0, 3)
    line.BackgroundColor3 = Color3.fromRGB(150, 200, 255)
    line.Position = UDim2.new(math.random(), 0, math.random(), 0)
    line.BackgroundTransparency = 0.7
    local lineGradient = Instance.new("UIGradient")
    lineGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(150, 200, 255)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 150, 200)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(200, 255, 150))
    }
    lineGradient.Parent = line
    line.Parent = background

    spawn(function()
        local tweenInfo = TweenInfo.new(math.random(2, 4), Enum.EasingStyle.Sine)
        local directionX = math.random(-1, 1) * 0.3
        local directionY = math.random(-1, 1) * 0.3
        TweenService:Create(line, tweenInfo, {
            Position = UDim2.new(line.Position.X.Scale + directionX, 0, line.Position.Y.Scale + directionY, 0),
            BackgroundTransparency = 1,
            Rotation = math.random(-30, 30)
        }):Play()
        wait(tweenInfo.Time)
        line:Destroy()
    end)
end

spawn(function()
    while true do
        createEnergyLine()
        wait(0.5)
    end
end)
